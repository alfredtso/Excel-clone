<!DOCTYPE html>
<html>

<head>
	<title>Hello React</title>
	<meta charset="utf-8">
</head>

<body>
	<div id="app">
		<!-- my app renders here -->
	</div>
	<div id="app2">
	</div>
	<script src="react/react.js"></script>
	<script src="react/react-dom.js"></script>
	<script src="react/babel.js"></script>
	<script type="text/babel">

		class LifecycleLoggerComp extends React.Component {
			static getName() { }
			componentDidMount() {
				console.log(this.constructor.getName() + '::componentDidMount');
			}

			componentWillUnmount() {
				console.log(this.constructor.getName() + '::componentWillUnmount');
			}

			compoenentDidUpdate(prevProps, prevState, snapshot) {
				console.log(this.constructor.getName() + '::componentDidUpdate');
			}

			render() {
				console.log(this.constructor.getName() + '::render');
			}

		}

		class Counter extends LifecycleLoggerComp {
			static getName() { return 'Counter' };

			render() {
				return <h3>{this.props.count}</h3>;
			}
		}

		Counter.defaultProps = {
			count: 0,
		};

		class TextAreaCounter extends LifecycleLoggerComp {
			static getName() { return 'TextAreaCounter' };

			constructor() {
				super();
				this.state = {};
			}

			render() {
				const text = 'text' in this.state ? this.state.text : this.props.text;
				return (
					<div>
						<textarea
							value={text}
							onChange={event => this.onTextChange(event)}
						/>
						{text.length > 0 ?
							<Counter count={text.length} /> : null
						}
					</div>
				)
			}

			onTextChange(event) {
				this.setState({
					text: event.target.value,
				});
			}
		}

		TextAreaCounter.defaultProps = {
			text: "I am here",
		};

		// my app's code 
		// const myTextAreaCounter = ReactDOM.render(
		//	<TextAreaCounter />,
		//  document.getElementById('app'));

		// Excel 

		const headers = ['Book', 'Author', 'Language', 'Published', 'Sales'];
		class Excel extends React.Component {
			render() {
				return (
					<table>
						<thead>
							<tr>
								{this.props.headers.map((title,i) => <th key={i}>{title}</th>)}
							</tr>
						</thead>
					</table>
				);
			}
		}

		ReactDOM.render(
			<Excel headers={headers} />,
			document.getElementById('app'),
			);

	</script>
</body>

</html>
